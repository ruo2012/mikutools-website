(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1926:function(t,e,l){"use strict";var o=l(892);l.n(o).a},1927:function(t,e,l){(e=l(10)(!1)).push([t.i,".ce_http .loading{text-align:center;margin-bottom:.625rem}.ce_http .loading .nya-loading{margin:3.75rem auto 1.25rem}.ce_http table td{font-size:.75rem}.ce_http table tr.color-0{background-color:#afeebf}.ce_http table tr.color-1{background-color:#9eecb2}.ce_http table tr.color-2{background-color:#fbe898}.ce_http table tr.color-3{background-color:#fbe274}.ce_http table tr.color-4{background-color:#fca0b4}.ce_http table tr.color-x{background-color:#c8cbd0}",""]),t.exports=e},2399:function(t,e,l){"use strict";l.r(e);l(49),l(31),l(112);var o=l(58),r=l.n(o),n={name:"CeHttp",head:function(){return this.$store.state.currentTool.head},data:function(){return{url:"",results:"",showColor:!1,loading:!1,data:[]}},methods:{tableRowClassName:function(t){var e=t.row,time=parseInt(e.TotalTime);return this.showColor?time<=10?"color-0":time>10&&time<=50?"color-1":time>50&&time<=70?"color-2":time>70&&time<=100?"color-3":time>100?"color-4":"color-x":""},test:function(){var t=this;if(this.loading)return!1;r.a.isURL(this.url)?(this.loading=!0,this.results="",this.$axios.post("".concat(this.$store.state.env.apiUrlCn,"/ce_http"),{url:this.url}).then((function(e){t.getTask(e.data.data.tid)})).catch((function(e){t.loading=!1,t.$notify.error({title:"测速失败",message:e})}))):this.$notify.error({title:"测速失败",message:"请输入正确的链接"})},getTask:function(t){var e=this;!function l(){e.$axios.post("".concat(e.$store.state.env.apiUrlCn,"/ce_http/task"),{id:t}).then((function(t){e.results=t.data.data,e.data=Object.keys(t.data.data.freshdata).map((function(e){return t.data.data.freshdata[e]})),3===parseInt(t.data.data.taskstatus)?(e.loading=!1,e.$notify.success({title:"测速完成"})):setTimeout((function(){l()}),2e3)})).catch((function(t){e.loading=!1,e.$notify.error({title:"测速失败",message:t})}))}()},viewHeader:function(t){this.$alert('<pre style="text-align: left; line-height: inherit; font-family: monospace;"><code>'.concat(atob(t),"</code></pre>"),"HEADER")}}},c=(l(1926),l(5)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"ce_http"},[l("nya-container",{attrs:{title:"网站测速（HTTP）"}},[l("div",{staticClass:"nya-subtitle"},[t._v("\n            输入链接开始测速\n        ")]),t._v(" "),l("el-input",{staticClass:"mb-15",attrs:{placeholder:"http://github.com",autofocus:"",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.test(e)}},model:{value:t.url,callback:function(e){t.url="string"==typeof e?e.trim():e},expression:"url"}},[l("el-button",{attrs:{slot:"append",loading:t.loading},on:{click:t.test},slot:"append"},[t._v("\n                "+t._s(t.loading?"测速中":"开始测速")+"\n            ")])],1),t._v(" "),l("div",{staticClass:"nya-subtitle inline-title"},[t._v("\n            显示背景颜色\n        ")]),t._v(" "),l("el-switch",{model:{value:t.showColor,callback:function(e){t.showColor=e},expression:"showColor"}})],1),t._v(" "),t.data.length?l("nya-container",{attrs:{title:t.loading?"测速中，未完成":"测速完成（点击表格可进行排序）"}},[t.results.num?l("p",[t._v("\n            共获取到："+t._s(t.results.num)+" 个监测点\n        ")]):t._e(),t._v(" "),t.results.average_data&&t.results.average_data.TotalTime&&t.results.average_data.NsLookup&&t.results.average_data.ConnectTime?l("p",[t._v("\n            平均总时间："+t._s(t.results.average_data.TotalTime)+"，平均DNS解析时间："+t._s(t.results.average_data.NsLookup)+"，平均连接时间："+t._s(t.results.average_data.ConnectTime)+"\n        ")]):t._e(),t._v(" "),l("el-table",{attrs:{data:t.data,border:"","row-class-name":t.tableRowClassName}},[l("el-table-column",{attrs:{prop:"name",label:"节点",width:"150",fixed:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"IP",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"isp",label:"ISP",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"view",label:"省份",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"SrcIP.srcip",label:"解析IP",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"SrcIP.ipfrom",label:"IP所在地",width:"200"}}),t._v(" "),l("el-table-column",{attrs:{prop:"HttpCode",label:"状态码",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"NsLookup",label:"解析时间",width:"100",sortable:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"ConnectTime",label:"连接时间",width:"100",sortable:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"downtime",label:"下载时间",width:"100",sortable:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"TotalTime",label:"总时间",width:"100",sortable:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"FileSize",label:"文件大小",width:"100",sortable:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"realsize",label:"下载大小",width:"100",sortable:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"speed",label:"下载速度",width:"120",sortable:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"HpptHead",label:"HTTP Head",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(l){return l.preventDefault(),t.viewHeader(e.row.HpptHead)}}},[t._v("\n                        查看Header\n                    ")])]}}],null,!1,49007260)})],1),t._v(" "),t.loading?l("div",{staticClass:"loading"},[l("nya-loading"),t._v(" "),l("span",[t._v("测速中，请稍后")])],1):t._e()],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},892:function(t,e,l){var content=l(1927);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(11).default)("5e1c4abe",content,!0,{sourceMap:!1})}}]);