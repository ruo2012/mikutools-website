(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1932:function(t,n,e){t.exports=e.p+"img/66d86b3.png"},1933:function(t,n,e){t.exports=e.p+"img/1d20340.png"},1934:function(t,n,e){t.exports=e.p+"img/c470911.png"},1935:function(t,n,e){t.exports=e.p+"img/3b5de64.png"},1936:function(t,n,e){t.exports=e.p+"img/ec19f72.png"},1937:function(t,n,e){t.exports=e.p+"img/d80686b.png"},1938:function(t,n,e){t.exports=e.p+"img/5b2cbc2.png"},1939:function(t,n,e){t.exports=e.p+"img/8d3b5ff.png"},1940:function(t,n,e){t.exports=e.p+"img/5c02656.png"},1941:function(t,n,e){t.exports=e.p+"img/bb2dcf4.png"},1942:function(t,n,e){t.exports=e.p+"img/7af3648.png"},1943:function(t,n,e){t.exports=e.p+"img/9afe534.png"},1944:function(t,n,e){t.exports=e.p+"img/5f351a5.png"},1945:function(t,n,e){t.exports=e.p+"img/b397722.png"},1946:function(t,n,e){t.exports=e.p+"img/2565cab.png"},1947:function(t,n,e){t.exports=e.p+"img/ef595d0.png"},1948:function(t,n,e){t.exports=e.p+"img/0e34475.png"},1949:function(t,n,e){t.exports=e.p+"img/73e51fc.png"},1950:function(t,n,e){t.exports=e.p+"img/2aa172e.png"},1951:function(t,n,e){t.exports=e.p+"img/bc8be8c.png"},1952:function(t,n,e){t.exports=e.p+"img/cd3097d.png"},1953:function(t,n,e){t.exports=e.p+"img/e6cf3b9.png"},1954:function(t,n,e){t.exports=e.p+"img/7880c72.png"},1955:function(t,n,e){t.exports=e.p+"img/2cc2bf5.png"},1956:function(t,n,e){t.exports=e.p+"img/e9ddb62.png"},1957:function(t,n,e){t.exports=e.p+"img/1663a2c.png"},1958:function(t,n,e){t.exports=e.p+"img/a980ed6.png"},1959:function(t,n,e){t.exports=e.p+"img/a261c60.png"},1960:function(t,n,e){t.exports=e.p+"img/ab94cf5.png"},1961:function(t,n,e){t.exports=e.p+"img/8a0c60c.png"},1962:function(t,n,e){"use strict";var o=e(895);e.n(o).a},1963:function(t,n,e){(n=e(10)(!1)).push([t.i,".christmas_hat .el-select-dropdown .preview{display:flex;justify-content:space-between;align-content:center}.christmas_hat .el-select-dropdown .preview .el-image+div{line-height:3.125rem}.christmas_hat .el-select-dropdown .el-select-dropdown__item{height:4.375rem;padding-top:.625rem;padding-bottom:.625rem}.christmas_hat .el-select-dropdown .el-select-dropdown__item img{width:auto;height:3.125rem}",""]),t.exports=n},2403:function(t,n,e){"use strict";e.r(n);e(31),e(56);var o,c=e(13),r=e(784);o=e(852).fabric;var l={name:"ChristmasHat",data:function(){return{n:null,src:[e(1932),e(1933),e(1934),e(1935),e(1936),e(1937),e(1938),e(1939),e(1940),e(1941),e(1942),e(1943),e(1944),e(1945),e(1946),e(1947),e(1948),e(1949),e(1950),e(1951),e(1952),e(1953),e(1954),e(1955),e(1956),e(1957),e(1958),e(1959),e(1960),e(1961)],style:0,logo:null,backgroundImage:null,canvas:null}},head:function(){return this.$store.state.currentTool.head},watch:{style:function(){this.n&&this.renderCanvas()}},mounted:function(){this.canvas=new o.Canvas(this.$refs.canvas)},methods:{handleChange:function(t){var n=this,e=t.target.files;if(!e.length)return!1;var o=e[0],r=new FileReader;r.readAsDataURL(o),r.addEventListener("load",Object(c.a)(regeneratorRuntime.mark((function t(){var image;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(image=new Image).onload=function(){n.backgroundImage=image,n.$nextTick(n.renderCanvas)},image.src=r.result;case 3:case"end":return t.stop()}}),t)}))),!1)},renderCanvas:function(){var t=this;this.canvas.clear();var image=this.backgroundImage,n=this.$refs.box.offsetWidth,e=1;image.width>n?(this.canvas.setWidth(n),this.canvas.setHeight(n/image.width*image.height),e=n/image.width):(this.canvas.setWidth(image.width),this.canvas.setHeight(image.height)),this.getLogo().then((function(){var e=image.width/2/t.logo.width;image.width>n&&(e=n/2/t.logo.width);var c=new o.Image(t.logo,{scaleX:e,scaleY:e,left:0,top:0});t.canvas.add(c),c.centerH(),t.canvas.renderAll()}));var c=new o.Image(image,{scaleX:e,scaleY:e,left:0,top:0,selectable:!1});this.canvas.setBackgroundImage(c)},getLogo:function(){var t=this;return new Promise((function(n,e){var image=new Image;image.crossOrigin="anonymous",image.onload=function(){t.logo=image,n(image)},image.onerror=e,image.src=t.src[t.style]}))},save:function(){if(!this.n)return!1;this.canvas.lowerCanvasEl.toBlob((function(t){Object(r.a)(URL.createObjectURL(t),"Christmas-Hat.png")}))}}},f=(e(1962),e(5)),component=Object(f.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"christmas_hat"},[e("nya-container",{attrs:{title:"在线加圣诞帽"}},[e("div",{staticClass:"nya-subtitle"},[t._v("\n            请选择要制作的图片\n        ")]),t._v(" "),e("el-input",{attrs:{type:"file",accept:"image/*",placeholder:t.n?t.n.replace(/C:\\fakepath\\/,""):"点击这里上传文件",clearable:""},nativeOn:{change:function(n){return t.handleChange(n)}},model:{value:t.n,callback:function(n){t.n=n},expression:"n"}},[e("el-button",{attrs:{slot:"append"},on:{click:t.save},slot:"append"},[t._v("\n                下载\n            ")])],1),t._v(" "),e("div",{staticClass:"nya-subtitle mt-15"},[t._v("\n            选择圣诞帽样式\n        ")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择","popper-append-to-body":!1},model:{value:t.style,callback:function(n){t.style=n},expression:"style"}},t._l(t.src,(function(n,o){return e("el-option",{key:o,attrs:{label:"样式："+(o+1),value:o}},[e("div",{staticClass:"preview"},[e("el-image",{attrs:{src:t.src[o],fit:"contain"}}),t._v(" "),e("div",[t._v(t._s("样式："+(o+1)))])],1)])})),1)],1),t._v(" "),e("nya-container",{directives:[{name:"show",rawName:"v-show",value:t.n,expression:"n"}],attrs:{title:"预览"}},[e("div",{ref:"box",staticClass:"box"},[e("canvas",{ref:"canvas"})])]),t._v(" "),e("nya-container",{attrs:{title:"说明"}},[e("ul",{staticClass:"nya-list"},[e("li",[t._v("如果下载的图片出现带有线条的边框，请点击一下图片中圣诞帽外的任意区域再下载")])])])],1)}),[],!1,null,null,null);n.default=component.exports},784:function(t,n,e){"use strict";n.a=function(t,n){var a=document.createElement("a");a.href=t,a.download=n,a.click()}},853:function(t,n){},854:function(t,n){},855:function(t,n){},895:function(t,n,e){var content=e(1963);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(11).default)("6ec7eeda",content,!0,{sourceMap:!1})}}]);